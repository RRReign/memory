{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/23743/Desktop/Memorandum/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"C:/Users/23743/Desktop/Memorandum/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"C:/Users/23743/Desktop/Memorandum/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useState,useEffect,useRef}from\"react\";import{API_GET_DATA}from\"../../global/constants\";import Edit from\"./components/Edit\";import List from\"./components/List\";import\"./index.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function fetchData(_x){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(setData){var res,_yield$res$json,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(API_GET_DATA);case 2:res=_context.sent;_context.next=5;return res.json();case 5:_yield$res$json=_context.sent;data=_yield$res$json.data;setData(data);case 8:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}function fetchSetData(_x2){return _fetchSetData.apply(this,arguments);}function _fetchSetData(){_fetchSetData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(API_GET_DATA,{method:\"PUT\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify({data:data})});case 2:case\"end\":return _context2.stop();}},_callee2);}));return _fetchSetData.apply(this,arguments);}var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var submittingStatus=useRef(false);useEffect(function(){if(!submittingStatus.current){return;}fetchSetData(data).then(function(data){return submittingStatus.current=false;});},[data]);useEffect(function(){fetchData(setData);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Edit,{add:setData,submittingStatus:submittingStatus}),/*#__PURE__*/_jsx(List,{listData:data,deleteData:setData,submittingStatus:submittingStatus})]});};export default Home;","map":{"version":3,"names":["useState","useEffect","useRef","API_GET_DATA","Edit","List","jsx","_jsx","jsxs","_jsxs","fetchData","_x","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","setData","res","_yield$res$json","data","wrap","_callee$","_context","prev","next","fetch","sent","json","stop","fetchSetData","_x2","_fetchSetData","_callee2","_callee2$","_context2","method","headers","body","JSON","stringify","Home","_useState","_useState2","_slicedToArray","submittingStatus","current","then","className","children","add","listData","deleteData"],"sources":["C:/Users/23743/Desktop/Memorandum/src/pages/Home/index.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport { API_GET_DATA } from \"../../global/constants\";\r\n\r\nimport Edit from \"./components/Edit\";\r\nimport List from \"./components/List\";\r\nimport \"./index.css\";\r\n\r\nasync function fetchData(setData) {\r\n  const res = await fetch(API_GET_DATA);\r\n  const { data } = await res.json();\r\n  setData(data);\r\n}\r\n\r\nasync function fetchSetData(data) {\r\n  await fetch(API_GET_DATA, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ data }),\r\n  });\r\n}\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState([]);\r\n  const submittingStatus = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!submittingStatus.current) {\r\n      return;\r\n    }\r\n    fetchSetData(data).then((data) => (submittingStatus.current = false));\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    fetchData(setData);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Edit add={setData} submittingStatus={submittingStatus} />\r\n      <List\r\n        listData={data}\r\n        deleteData={setData}\r\n        submittingStatus={submittingStatus}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}